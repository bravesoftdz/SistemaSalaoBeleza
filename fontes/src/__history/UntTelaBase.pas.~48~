unit UntTelaBase;

interface

uses
  Winapi.Windows, Winapi.Messages, System.SysUtils, System.Variants, System.Classes, Vcl.Graphics,
  Vcl.Controls, Vcl.Forms, Vcl.Dialogs, W7Classes, W7Panels,
  Vcl.ComCtrls, Vcl.ExtCtrls,
  Vcl.StdCtrls, EditBtn, AeroButtons, UntBasSistema;

type
  TFrmTelaBase = class(TForm)
    W7Panel2: TW7Panel;
  private
    { Private declarations }

  protected
   procedure DoShow; override;
  public
    { Public declarations }
    class procedure AbrirTela;

  end;


implementation

{$R *.dfm}

class procedure TFrmTelaBase.AbrirTela;
var
  FrmTelaBase: TFrmTelaBase;
begin
  FrmTelaBase:= TFrmTelaBase.Create(nil);
  try
    FrmTelaBase.ShowModal;

  finally
    if (Assigned(FrmTelaBase)) then
      FreeAndNil(FrmTelaBase)
  end;
end;



procedure TFrmTelaBase.DoShow;
var
  iTamanhoProporcionalEsquerda, iTamanhoProporcionalTopo: Integer;
begin
  inherited;
  {
  if ( Self.Width >= Sistema.DimencoesAberturaTela.LarguraPadrao) then
    raise Exception.Create('Tamanho do formulário maior que o permitido');
  }

  iTamanhoProporcionalTopo:= 
    Trunc(
      ((Sistema.DimencoesAberturaTela.AlturaPadrao - Self.Height) / 2)
    );
  
  iTamanhoProporcionalEsquerda:= 
    Trunc((Sistema.DimencoesAberturaTela.LarguraPadrao - Self.Width) / 2);
   
  //Self.Top:= Sistema.DimencoesAberturaTela.AlturaConteiner;

  Self.Position:= poDefault;
  
  Self.Top := Sistema.DimencoesAberturaTela.AlturaConteiner + iTamanhoProporcionalTopo;
  Self.Left:= Sistema.DimencoesAberturaTela.DistanciaEsquerda + iTamanhoProporcionalEsquerda;

end;

end.
